(()=>{jQuery(window).on("load berocket_ajax_products_infinite_loaded",function(){var e=function(e,r){if(!e||!e.length)return!1;if(!r||!r.length)return!1;var t=!1;return e.each(function(){if(!jQuery(this).is(":hidden")){var e=jQuery(this);e.css({position:"relative"}),r.removeClass(".asnp-esb-badge-hidden").prependTo(e).show(),t=!0}}),t},r=function(e){if(e&&e.id){var r=document.getElementsByClassName("asnp-esb-productBadgeTimer-"+e.id);if(r.length)for(var t=function(){var t,n=0;if("evergreen"===e.timerMode){var s="everGreenEndTime_".concat(e.id),o="everGreenStartTime_".concat(e.id),i=Date.now(),l=localStorage.getItem(s),d=localStorage.getItem(o),u=e.evergreen;if(l&&i<parseInt(l,10))t=parseInt(l,10)-i,d&&i>parseInt(l,10)&&(n=i-parseInt(l,10));else{var c=i+u;t=u,localStorage.setItem(s,c),localStorage.setItem(o,i)}}else t=1*e.remainingTime,n=1*e.remainingTimeProgress;var p=r[a],g=setInterval(function(){var r=function(e){if(0>=1*e)return null;e*=1;var r=Math.floor(e/864e5),t=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),n=Math.floor(e%6e4/1e3);return{days:String(r).padStart(2,"0"),hours:String(t).padStart(2,"0"),minutes:String(a).padStart(2,"0"),seconds:String(n).padStart(2,"0")}}(t);if(t-=1e3,n+=1e3,r){p.querySelector(".asnp-esb-daysT").innerText=r.days,p.querySelector(".asnp-esb-hoursT").innerText=r.hours,p.querySelector(".asnp-esb-minT").innerText=r.minutes,p.querySelector(".asnp-esb-secT").innerText=r.seconds;var a=p.querySelector(".asnp-esb-timerStyle2ProgreesBarCalc"),s=p.querySelectorAll(".asnp-esb-timerStyle2borderBarCalc-"+e.id);if(a){var o="evergreen"===e.timerMode?e.evergreen:new Date(e.dateTo.replace(/-/g,"/"))-new Date(e.dateFrom.replace(/-/g,"/")),i=100-n/o*100;a.style.width=i+"%"}s&&s.forEach(function(r){var t,a,n,s,o=parseInt((null===(t=p.querySelector(".asnp-esb-daysT"))||void 0===t?void 0:t.innerText)||0),i=parseInt((null===(a=p.querySelector(".asnp-esb-hoursT"))||void 0===a?void 0:a.innerText)||0),l=parseInt((null===(n=p.querySelector(".asnp-esb-minT"))||void 0===n?void 0:n.innerText)||0),d=parseInt((null===(s=p.querySelector(".asnp-esb-secT"))||void 0===s?void 0:s.innerText)||0),u=function(e,t,a){var n=r.querySelector(e);if(n){var s=t/a*100;n.setAttribute("stroke-dasharray","".concat(s,",100"))}};u(".asnp-esb-progress-days-"+e.id,o,99),u(".asnp-esb-progress-hours-"+e.id,i,24),u(".asnp-esb-progress-min-"+e.id,l,60),u(".asnp-esb-progress-sec-"+e.id,d,60)}),"none"===p.style.display&&(p.style.display="block")}else{if("evergreen"!==(null==e?void 0:e.timerMode)||"repeat"!==(null==e?void 0:e.evergreenOption))return clearInterval(g),void(p.style.display="none");var l=Date.now(),d=l+e.evergreen;t=e.evergreen,n=0,localStorage.setItem(storedEndTimeKey,d),localStorage.setItem(storedStartTimeKey,l)}},1e3)},a=0,n=r.length;a<n;a++)t()}},t=function(){var e,r,t={porto:".woocommerce-product-gallery:first .product-images"},a=null===(e=asnpWesbBadgeData)||void 0===e?void 0:e.stylesheet,n=null===(r=asnpWesbBadgeData)||void 0===r?void 0:r.template;return a&&t[a]&&jQuery(t[a]).length?t[a]:n&&t[n]&&jQuery(t[n]).length?t[n]:jQuery(".woocommerce-product-gallery .flex-viewport").length?".woocommerce-product-gallery .flex-viewport":".woocommerce-product-gallery:first, .woocommerce-product-gallery--with-images:first"};!function(){var r=jQuery(".asnp-esb-badge-hidden");if(r){var a="";"undefined"!=typeof asnpWesbBadgeData&&void 0!==asnpWesbBadgeData.singleContainer&&(a=asnpWesbBadgeData.singleContainer.trim());var n=!1;a.length&&(n=e(jQuery(a),r)),n||(a=t(),n=e(jQuery(a),r)),n||(n=e(jQuery(".images"),r))}}(),"undefined"!=typeof asnpWesbBadgeData&&void 0!==asnpWesbBadgeData.timers&&asnpWesbBadgeData.timers.length&&asnpWesbBadgeData.timers.map(function(e){return r(e)})}),this["[modulename]"]={}})();